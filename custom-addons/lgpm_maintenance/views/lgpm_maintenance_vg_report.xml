<odoo>
  <data>

    <!-- actions opening views on models -->
    <record model="ir.actions.report" id="lgpm_maintenance_request_vg_action_report">
      <field name="name">Informe Final Mantenimiento</field>
      <field name="model">maintenance.request</field>
      <field name="report_type">qweb-pdf</field>
      <field name="report_name">lgpm_maintenance.request_vg_report</field>
      <field name="report_file">lgpm_maintenance.request_vg_report</field>
      <field name="binding_model_id" ref="model_maintenance_request" />

      <field name="print_report_name">'Informe VG - %s' %(object.name)</field>
    </record>


    <!-- explicit template definition -->
    <template id="lgpm_maintenance.request_vg_report">
      <t t-call="web.html_container">
        <t t-foreach="docs" t-as="maintenance_request">
          <t t-set="lang" t-value="maintenance_request.equipment_id.partner_id.lang" />
          <t t-call="lgpm_maintenance.request_vg_report_document" t-lang="lang"/>
        </t>
      </t>
    </template>

    <template id="lgpm_maintenance.request_vg_report_document">
      <t t-set="maintenance_request" t-value="maintenance_request.with_context(lang=lang)" />
      <t t-call="web.external_layout">
        <div class="page">
          <!-- Common for all docs. Show only in first doc -->
          <t t-if="maintenance_request_first">
            <!-- Title, code and date of maintenance  -->
            <div class="alert alert-light mb-0 pb-0" role="alert">
              <h2 class="alert-heading text-center mx-0 py-5">
                <span>
                  <b>
                    Informe <span t-field="maintenance_request.equipment_type" />
                  </b>
                </span>
              </h2>
              <div class="d-flex flex-row justify-content-end m-0 p-0">
                <div class="d-fex flex-column align-content-center col-5 p-2 border border-light bg-light">
                  <p class="m-0 p-0">
                    <b>Código del documento:</b>
                    <span t-field="maintenance_request.name" class="mx-2"/>
                  </p>
                  <p class="m-0 p-0">
                    <b>Fecha del informe:</b>
                    <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d-%m-%Y %H:%M')" class="mx-2"/>
                  </p>
                </div>
              </div>
              <hr/>
            </div>
            <!-- Customer info -->
            <h5 class="alert-heading text-left mt-5 py-0">
              <span>
                <b>Datos del cliente</b>
              </span>
            </h5>
            <div class="d-flex flex-row justify-content-between mt-2 p-0 border border-light bg-light">
              <div class="col-6 p-2">
                <p>
                  <b>Empresa:</b>
                  <span t-field="maintenance_request.owner_name" class="mx-2"/>
                </p>
                <div class="d-flex flex-row">
                  <div>
                    <p class="m-0 p-0">
                      <b>Dirección:</b>
                    </p>
                  </div>
                  <div class="flex-grow-1 m-0 p-0">
                    <div class="m-0 p-0">
                      <p class="m-0 p-0">
                        <span t-field="maintenance_request.equipment_id.owner_id.street" t-options="{}" class="mx-2"/>
                      </p>
                    </div>
                    <div t-if="maintenance_request.equipment_id.owner_id.street2 != ''" class="m-0 p-0">
                      <p class="m-0 p-0">
                        <span t-field="maintenance_request.equipment_id.owner_id.street2" class="mx-2"/>
                      </p>
                    </div>
                    <div class="d-flex flex-wrap m-0 p-0">
                      <div>
                        <p>
                          <span t-field="maintenance_request.equipment_id.owner_id.state_id" class="mx-2"/>
                        </p>
                      </div>
                      <div>
                        <p>
                          <span t-field="maintenance_request.equipment_id.owner_id.zip" class="mx-2"/>
                        </p>
                      </div>
                      <div>
                        <p>
                          <span t-field="maintenance_request.equipment_id.owner_id.city" class="mx-2"/>
                        </p>
                      </div>
                    </div>
                    <div>
                      <p class="m-0 p-0">
                        <span t-field="maintenance_request.equipment_id.owner_id.country_id" class="mx-2"/>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-6 p-2">
                <p>
                  <b>Contacto:</b>
                  <span t-field="maintenance_request.contact_name" class="mx-2"/>
                </p>
                <p>
                  <b>Telefono:</b>
                  <span t-field="maintenance_request.contact_phone" class="mx-2"/>
                </p>
                <p>
                  <b>Correo:</b>
                  <span t-field="maintenance_request.contact_email" class="mx-2"/>
                </p>
              </div>
            </div>

            <!-- Responsibility signatures -->
             <h5 class="alert-heading text-left mt-5 py-0">
              <span>
                <b>Firmas de responsabilidad</b>
              </span>
            </h5>
            <table class="table table-striped mt-2">
              <thead>
                <tr>
                  <th>
                    <b>Resposabilidad</b>
                  </th>
                  <th>
                    <b>Nombre</b>
                  </th>
                  <th>
                    <b>Cargo</b>
                  </th>
                  <th>
                    <b>Firma</b>
                  </th>
                </tr>
              </thead>
              <tbody class="text-center">
                <tr>
                  <td class="align-middle">
                    <b>Redacción</b>
                  </td>
                  <td class="align-middle">
                    <b>Marisa Villar Neo</b>
                  </td>
                  <td class="align-middle">
                    <b>Administración</b>
                  </td>
                  <td>
                    <div>
                      <center>
                        <img 
                          t-attf-src="data:image/*;base64,{{maintenance_request.sign_admin}}"
                          t-alt="Firma de la administración"
                          class="img img-fluid o_we_custom_image o_modified_image_to_save" 
                          style="max-height: 90px;"/>
                      </center>
                    </div>
                    
                  </td>
                </tr>
                <tr>
                  <td class="align-middle">
                    <b>Revisión</b>
                  </td>
                  <td class="align-middle">
                    <b>Lázaro Guillermo Pérez Montoto</b>
                  </td>
                  <td class="align-middle">
                    <b>Responsable SAT</b>
                  </td>
                  <td>
                    <div>
                      <center>
                        <img
                          t-attf-src="data:image/*;base64,{{maintenance_request.sign_sat}}"
                          t-alt="Firma del responsable SAT" 
                          class="img img-fluid o_we_custom_image o_modified_image_to_save"
                          height="90" width="90" />
                      </center>
                    </div>
                    
                  </td>
                </tr>
                <tr>
                  <td class="align-middle">
                    <b>Revisión</b>
                  </td>
                  <td class="align-middle">
                    <b>Rafael Romero</b>
                  </td>
                  <td class="align-middle">
                    <b>Técnico Prevención</b>
                  </td>
                  <td>
                    <div>
                      <center>
                        <img
                          t-attf-src="data:image/*;base64,{{maintenance_request.sign_prev}}"
                          t-alt="Firma del responsable prevención" 
                          class="img img-fluid o_we_custom_image o_modified_image_to_save"
                          height="90" width="90" />
                      </center>
                    </div>
                    
                  </td>
                </tr>
              </tbody>
            </table>
            <p style="page-break-after: always;"></p>

            <!-- Begining the report introduction -->
            <br/>
            <h5 class="alert-heading text-left mt-4 py-0">
              <span>
                <b>ÍNDICE</b>
              </span>
            </h5>
            <div>
              <ul class="list-unstyled">
                <li>
                  <div class="d-flex flex-row justify-content-between col-12 py-1">
                    <div class="col-11 ps-0"><span class="ms-0 ps-0">1. OBJETIVO</span></div>
                    <div class="col-1 text-right"><span class="badge bg-success rounded-pill">3</span></div>
                  </div>
                </li>
                <li>
                  <div class="d-flex flex-row justify-content-between col-12 py-1">
                    <div class="col-11 ps-0"><span class="ms-0 ps-0">2. FECHA DE LA ACTUACIÓN</span> </div>
                    <div class="col-1 text-right"><span class="badge bg-success rounded-pill">3</span></div>
                  </div>
                </li>
                <li>
                  <div class="d-flex flex-row justify-content-between col-12 py-1">
                    <div class="col-11 ps-0"><span class="ms-0 ps-0">3. PERSONAL</span></div>
                    <div class="col-1 text-right"><span class="badge bg-success rounded-pill">3</span></div>
                  </div>
                </li>
                <li>
                  <div class="d-flex flex-row justify-content-between col-12 py-1">
                    <div class="col-11 ps-0"><span class="ms-0 ps-0">4. INSTRUMENTACIÓN UTILIZADA</span></div>
                    <div class="col-1 text-right"><span class="badge bg-success rounded-pill">3</span></div>
                  </div>
                </li>
                <li>
                  <div class="d-flex flex-row justify-content-between col-12 py-1">
                    <div class="col-11 ps-0"><span class="ms-0 ps-0">5. ENSAYOS REALIZADOS Y CRITERIOS DE ACEPTACIÓN </span>N</div>
                    <div class="col-1 text-right"><span class="badge bg-success rounded-pill">4</span></div>
                  </div>
                </li>
                <ul class="list-unstyled">
                  <li>
                    <div class="d-flex flex-row justify-content-between col-12 py-1">
                      <div class="col-11 ps-2"><span class="ms-2 ps-0">5.1. ENSAYO DE VELOCIDAD Y UNIFORMIDAD DEL AIRE </span></div>
                      <div class="col-1 text-right"><span class="badge bg-success rounded-pill">4</span></div>
                    </div>
                  </li>
                  <li>
                    <div class="d-flex flex-row justify-content-between col-12 py-1">
                      <div class="col-11 ps-2"><span class="ms-2 ps-0">5.2. TEST DE SONIDO </span></div>
                      <div class="col-1 text-right"><span class="badge bg-success rounded-pill">9</span></div>
                    </div>
                  </li>
                  <li>
                    <div class="d-flex flex-row justify-content-between col-12 py-1">
                      <div class="col-11 ps-2"><span class="ms-2 ps-0">5.3. TEST DE LUMINOSIDAD </span></div>
                      <div class="col-1 text-right"><span class="badge bg-success rounded-pill">9</span></div>
                    </div>
                  </li>
                  <li>
                    <div class="d-flex flex-row justify-content-between col-12 py-1">
                      <div class="col-11 ps-2"><span class="ms-2 ps-0">5.4. TEST DE DESPLAZAMIENTO DE GUILLOTINA </span></div>
                      <div class="col-1 text-right"><span class="badge bg-success rounded-pill">10</span></div>
                    </div>
                  </li>
                  <ul class="list-unstyled">
                    <li>
                      <div class="d-flex flex-row justify-content-between col-12 py-1">
                        <div class="col-11 ps-4"><span class="ms-2 ps-0">5.4.1. ENSAYOS DE LA GUILLOTINA </span></div>
                        <div class="col-1 text-right"><span class="badge bg-success rounded-pill">10</span></div>
                      </div>
                    </li>
                    <ul class="list-unstyled">
                      <li>
                        <div class="d-flex flex-row justify-content-between col-12 py-1">
                          <div class="col-11 ps-4"><span class="ms-2 ps-0">5.4.1.1. ENSAYOS DE SUSPENSIÓN DE LA GUILLOTINA </span></div>
                          <div class="col-1 text-right"><span class="badge bg-success rounded-pill">11</span></div>
                        </div>
                      </li>
                      <li>
                        <div class="d-flex flex-row justify-content-between col-12 py-1">
                          <div class="col-11 ps-4"><span class="ms-2 ps-0">5.4.1.2. ENSAYOS DE DESPLAZAMIENTO DE LA GUILLOTINA </span></div>
                          <div class="col-1 text-right"><span class="badge bg-success rounded-pill">11</span></div>
                        </div>
                      </li>
                      <li>
                        <div class="d-flex flex-row justify-content-between col-12 py-1">
                          <div class="col-11 ps-4"><span class="ms-2 ps-0">5.4.1.3. PROTECCIÓN FRENTE A LAS SALPICADURAS </span></div>
                          <div class="col-1 text-right"><span class="badge bg-success rounded-pill">12</span></div>
                        </div>
                      </li>
                      <li>
                        <div class="d-flex flex-row justify-content-between col-12 py-1">
                          <div class="col-11 ps-4"><span class="ms-2 ps-0">5.4.1.4. STOP DE LA GUILLOTINA Y ENSAYO DE LA ALARMA </span></div>
                          <div class="col-1 text-right"><span class="badge bg-success rounded-pill">12</span></div>
                        </div>
                      </li>
                      <li>
                        <div class="d-flex flex-row justify-content-between col-12 py-1">
                          <div class="col-11 ps-4"><span class="ms-2 ps-0">5.4.1.5. SUSPENSIÓN DE LA GUILLOTINA </span></div>
                          <div class="col-1 text-right"><span class="badge bg-success rounded-pill">13</span></div>
                        </div>
                      </li>
                    </ul>
                  </ul>
                  <li>
                    <div class="d-flex flex-row justify-content-between col-12 py-1">
                      <div class="col-11 ps-2"><span class="ms-2 ps-0">5.5. TEST DE VISUALIZACIÓN DEL FLUJO DE AIRE </span></div>
                      <div class="col-1 text-right"><span class="badge bg-success rounded-pill">13</span></div>
                    </div>
                  </li>
                  <li>
                    <div class="d-flex flex-row justify-content-between col-12 py-1">
                      <div class="col-11 ps-2"><span class="ms-2 ps-0">5.6. TES DE ALARMA DE TEMPERATURA DE TRABAJO </span></div>
                      <div class="col-1 text-right"><span class="badge bg-success rounded-pill">14</span></div>
                    </div>
                  </li>
                </ul>
                <li>
                  <div class="d-flex flex-row justify-content-between col-12 py-1">
                    <div class="col-11 ps-0"><span class="ms-0 ps-0">6. DETALLES DE LOS VALORES OBTENIDOS</span></div>
                    <div class="col-1 text-right"><span class="badge bg-success rounded-pill">14</span></div>
                  </div>
                </li>
                <ul class="list-unstyled">
                  <li>
                    <div class="d-flex flex-row justify-content-between col-12 py-1">
                      <div class="col-11 ps-2"><span class="ms-2 ps-0">6.1. DETALLES DE LOS RESULTADOS </span></div>
                      <div class="col-1 text-right"><span class="badge bg-success rounded-pill">15</span></div>
                    </div>
                  </li>
                  <li>
                    <div class="d-flex flex-row justify-content-between col-12 py-1">
                      <div class="col-11 ps-2"><span class="ms-2 ps-0">6.2. DICTAMEN FINAL </span></div>
                      <div class="col-1 text-right"><span class="badge bg-success rounded-pill">15</span></div>
                    </div>
                  </li>
                </ul>
                <li>
                  <div class="d-flex flex-row justify-content-between col-12 py-1">
                    <div class="col-11 ps-0"><span class="ms-0 ps-0">7. OBSERVACIONES </span></div>
                    <div class="col-1 text-right"><span class="badge bg-success rounded-pill">16</span></div>
                  </div>
                </li>
                <li>
                  <div class="d-flex flex-row justify-content-between col-12 py-1">
                    <div class="col-11 ps-0"><span class="ms-0 ps-0">8. LISTADO DE NO CONFORMIDADES </span></div>
                    <div class="col-1 text-right"><span class="badge bg-success rounded-pill">16</span></div>
                  </div>
                </li>
                <li>
                  <div class="d-flex flex-row justify-content-between col-12 py-1">
                    <div class="col-11 ps-0"><span class="ms-0 ps-0">9. LISTADO DE ANEXOS </span></div>
                    <div class="col-1 text-right"><span class="badge bg-success rounded-pill">17</span></div>
                  </div>
                </li>
              </ul>
            </div>
            <p style="page-break-after: always;"></p>

            <br/>
            <h5 name="objetivo" class="alert-heading text-left mt-4 py-0">
              <span>
                <b>1. OBJETIVO</b>
              </span>
            </h5>
            <p style="text-align: justify;">
              El objetivo del presente Informe es reflejar los resultados obtenidos durante la
              cualificación de los equipos de tratamiento de aire detallados en cada hoja de 
              trabajo incluida en el Anexo B del presente informe, con el fin de demostrar 
              documentalmente que son adecuados para su uso previsto dentro de los rangos de
              trabajo definidos por la Normativa Vigente.
            </p>
            <h5 name="fecha" class="alert-heading text-left mt-4 py-0">
              <span>
                <b>2. FECHA DE LA ACTUACIÓN</b>
              </span>
            </h5>
            <p style="text-align: justify;">
              Las pruebas se realizaron el día: <span t-field="maintenance_request.maintenance_date" />
            </p>
            <h5 name="personal" class="alert-heading text-left mt-4 py-0">
              <span>
                <b>3. PERSONAL</b>
              </span>
            </h5>
            <p style="text-align: justify;">
              Las pruebas se han realizado por el personal Técnico de <b>ATLAS ROMERO Services</b> que
               se refleja a continuación:
            </p>
            <table class="table table-striped mt-2">
              <thead>  
                <tr>
                  <th scope="col">
                    <b>Nombre</b>
                  </th>
                  <th scope="col">
                    <b>Cargo</b>
                  </th>
                </tr>
              </thead>
              <tbody class="text-center">
                <tr>
                  <td>
                    Rafael Romero
                  </td>
                  <td>
                    Técnico Prevención en Nivel Intermedio
                  </td>
                </tr>
              </tbody>
            </table>
            <p style="text-align: justify;">
              Todo el personal del Servicio Técnico de <b>ATLAS ROMERO Services</b> se encuentra sujeto
              a un plan de formación anual, que comprende todas las áreas de conocimiento en función de
              su trabajo a realizar.
            </p>
            <h5 name="instrumentacion" class="alert-heading text-left mt-4 py-0">
              <span>
                <b>4. INSTRUMENTACIÓN UTILIZADA</b>
              </span>
            </h5>
            <p style="text-align: justify;">
              Los equipos utilizados en la cualificación son los indicados en la siguiente tabla, adjuntándose
              una copia de sus certificados de calibración en el Anexos E y F del presente informe.<br/>
              Los instrumentos utilizados para realizar los tests se encontraban calibrados durante la ejecución
              de las pruebas de cualificación. Todos ellos están sujetos a un plan anual de calibración en el que
              se especifica su periodo de validez, y en el que como norma general para todos los equipos se
              establece en un máximo de 24 meses.
            </p>
            <table class="table table-striped mt-2">
              <thead>
                <tr>
                  <th scope="col">
                    <b>Equipo</b>
                  </th>
                  <th scope="col">
                    <b>Marca</b>
                  </th>
                  <th scope="col">
                    <b>Modelo</b>
                  </th>
                  <th scope="col">
                    <b>Referencia Interna</b>
                  </th>
                  <th scope="col">
                    <b>Nº de Serie</b>
                  </th>
                </tr>
              </thead>
              <tbody class="text-center">
                <tr>
                  <td>Anemómetro</td>
                  <td>PCE</td>
                  <td>423</td>
                  <td>AT02</td>
                  <td>150107658</td>
                </tr>
                <tr>
                  <td>Luxómetro</td>
                  <td>PCE</td>
                  <td>174</td>
                  <td>AT04</td>
                  <td>150206366</td>
                </tr>
                <tr>
                  <td>Dinamómetro</td>
                  <td>DFG500</td>
                  <td>423</td>
                  <td>AT05</td>
                  <td>4111502055</td>
                </tr>
                <tr>
                  <td>Sonómetro</td>
                  <td>PCE</td>
                  <td>322A</td>
                  <td>AT06</td>
                  <td>2015097392</td>
                </tr>
              </tbody>
            </table>
            <p style="page-break-after: always;"></p>

            <br/>
            <h5 name="ensayos_criterios" class="alert-heading text-left mt-4 py-0">
              <span>
                <b>5. ENSAYOS REALIZADOS Y CRITERIOS DE ACEPTACIÓN</b>
              </span>
            </h5>
            <p style="text-align: justify;">
              A continuación se detallan los ensayos principales a realizar en los equipos de tratamiento de aire
              y una pequeña descripción de los procedimientos internos que les aplican a cada uno de ellos. Todos
              los procedimientos se ajustan a la Normativa vigente y son revisados periódicamente por el Departamento
              de Calidad de <b>Atlas Romero</b>.<br/>
              De los ensayos detallados en este apartado, se han realizado únicamente aquellos acordados previamente
              con el cliente.
            </p>
            <h5 name="uniformidad_aire" class="alert-heading text-left mt-4 py-0">
              <span>
                <b>5.1. ENSAYO DE VELOCIDAD Y UNIFORMIDAD DEL AIRE</b>
              </span>
            </h5>
            <h6>
              <span>
                <b>Objetivo:</b>
              </span>
            </h6>
            <p style="text-align: justify;">
              Determinar la velocidad promedio del aire de impulsión, la uniformidad del flujo del aire en el
              interior de la cabina y cuando sea aplicable la velocidad frontal y de extracción.
            </p>
            <p style="page-break-after: always;"></p>
            <h6>
              <span>
                <b>Equipo:</b>
              </span>
            </h6>
            <p style="text-align: justify;">
              Anemómetro de filamento caliente.
            </p>
            <h6>
              <span>
                <b>Procedimiento:</b>
              </span>
            </h6>
            <p style="text-align: justify;">
              Según Procedimiento interno de <b>Atlas Romero S.L.U.</b> Código PNT 0003-Vitrinas de gases basado
              en las siguientes normativas: EN ISO 5167-1, EN 14175-3, AFNOR NF X 15-211.<br/>
              La vitrina deberá estar funcionando en las condiciones teóricas de trabajo, realizando las mediciones
              a la altura operacional de trabajo de la vitrina con el interior de la misma vacío. El anemómetro
              será omnidireccional capaz de medir velocidades de aire entre 0,1 m/s y 2,0 m/s. El tiempo de respuesta
              del sensor no debe ser superior a 1 s. La precisión de una lectura individual debe ser superior al 15 % a
              las velocidades de aire entre 0,2 m/s y 0,15 m/s. Se utilizará un anemómetro con certificado de
              calibración en vigor. El factor de corrección es el propio de cada aparato de media.<br/>
              La sonda del anemómetro se situará en los puntos determinados por la intersección de las siguientes líneas
              en el plano interior de medida (ver figura 1):
            </p>
            <t t-set="value" t-value="maintenance_request.get_default_image('sign_sat.png')"/>
            <img 
              t-attf-src="data:image/*;base64,{{t-esc='value'}}" 
              class="img img-fluid o_we_custom_image o_modified_image_to_save" />

            <p style="page-break-after: always;"></p>
            

            <br/>
            <h5 name="intro" class="alert-heading text-left mt-4 py-0">
              <span>
                <b>Longitud de vitrina/guillotina/caudal recomendado</b>
              </span>
            </h5>
            <h6 class="alert-heading text-left mt-3 py-0">
              <span>
                <b>Requerimiento según norma DIN EN 14175</b>
              </span>
            </h6>
            <table class="table table-borderless mt-2">
              <thead>
                <tr>
                  <th scope="col">
                    <b>Vitrina (mm)</b>
                  </th>
                  <th scope="col">
                    <b>Guillotina (mm)</b>
                  </th>
                  <th scope="col">
                    <b>Caudal recomendado (m<sup>3</sup>/h)</b>
                  </th>
                </tr>
              </thead>
              <tbody class="text-center">
                <tr>
                  <td>1200</td>
                  <td>0,90</td>
                  <td>500</td>
                </tr>
                <tr>
                  <td>1500</td>
                  <td>1,20</td>
                  <td>650</td>
                </tr>
                <tr>
                  <td>1800</td>
                  <td>1,50</td>
                  <td>750</td>
                </tr>
                <tr>
                  <td>2000</td>
                  <td>1,70</td>
                  <td>850</td>
                </tr>
                <tr>
                  <td>2100</td>
                  <td>1,80</td>
                  <td>900</td>
                </tr>
              </tbody>
            </table>
            <h6 class="alert-heading text-left mt-5 py-0">
              <span>
                <b>Requerimiento según British Standard 7258, con volumen de extracción constante</b>
              </span>
            </h6>
            <table class="table table-borderless mt-2">
              <thead>
                <tr>
                  <th scope="col">
                    <b>Vitrina (mm)</b>
                  </th>
                  <th scope="col">
                    <b>Volocidad de entrada (m/s)</b>
                  </th>
                  <th scope="col">
                    <b>Caudal recomendado (m<sup>3</sup>/h)</b>
                  </th>
                </tr>
              </thead>
              <tbody class="text-center">
                <tr>
                  <td>1200</td>
                  <td>0,50</td>
                  <td>1050</td>
                </tr>
                <tr>
                  <td>1500</td>
                  <td>0,50</td>
                  <td>1200</td>
                </tr>
                <tr>
                  <td>1800</td>
                  <td>0,50</td>
                  <td>1500</td>
                </tr>
                <tr>
                  <td>2000</td>
                  <td>0,50</td>
                  <td>1700</td>
                </tr>
                <tr>
                  <td>2100</td>
                  <td>0,50</td>
                  <td>1800</td>
                </tr>
              </tbody>
            </table>
            <h6 class="alert-heading text-left mt-5 py-0">
              <span>
                <b>Requerimiento según AFNOR XP X15-203, con volumen de extracción constante</b>
              </span>
            </h6>
            <table class="table table-borderless mt-2">
              <thead>
                <tr>
                  <th scope="col">
                    <b>Vitrina (mm)</b>
                  </th>
                  <th scope="col">
                    <b>Volocidad de entrada (m/s)</b>
                  </th>
                  <th scope="col">
                    <b>Caudal recomendado (m<sup>3</sup>/h)</b>
                  </th>
                </tr>
              </thead>
              <tbody class="text-center">
                <tr>
                  <td>1200</td>
                  <td>0,50</td>
                  <td>650</td>
                </tr>
                <tr>
                  <td>1500</td>
                  <td>0,50</td>
                  <td>850</td>
                </tr>
                <tr>
                  <td>1800</td>
                  <td>0,50</td>
                  <td>1050</td>
                </tr>
                <tr>
                  <td>2000</td>
                  <td>0,50</td>
                  <td>1200</td>
                </tr>
                <tr>
                  <td>2100</td>
                  <td>0,50</td>
                  <td>1250</td>
                </tr>
              </tbody>
            </table>
            <p style="page-break-after: always;"></p>
            
          </t> <!-- End common block -->

          <!-- Begining the measurements for each individual equipment -->
          <!-- Equipment info -->
          <br/>
          <div class="d-flex row justify-content-center col-mb-4 my-5 text-center aling-items-center">
            <h1 class="alert-heading text-center my-0 py-0">
              <span class="badge bg-light border border-success text-dark py-3 px=5">
                <span t-field="maintenance_request.lot_id" class="px-5" />
              </span>
            </h1>
          </div>
          <div class="container m-0 p-0">
            <div class="d-flex flex-row justify-content-between my-3 border border-success bg-light">
              <div class="col-7 p-3">
                <p>
                  <b>Fabricante:</b>
                  <span t-field="maintenance_request.partner_id" class="mx-2"/>
                </p>
                <p>
                  <b>Tipo de uso:</b>
                  <span t-field="maintenance_request.equipment_use" class="mx-2"/>
                </p>
                <p>
                  <b>Referencia:</b>
                  <span t-field="maintenance_request.partner_ref" class="mx-2"/>
                </p>
              </div>
              <div class="col-5 p-3">
                <p>
                  <b>Año construcción:</b>
                  <span t-field="maintenance_request.manufacture_date" class="mx-2"/>
                </p>
                <p>
                  <b>Nº de Serie:</b>
                  <span t-field="maintenance_request.lot_id" class="mx-2"/>
                </p>
                <p>
                  <b>Nº Inventario:</b>
                  <span t-field="maintenance_request.lot_id" class="mx-2"/>
                </p>
              </div>
            </div>
          </div>

          <!-- Maintenance info -->
          <h5 class="alert-heading text-left mt-5 py-0">
            <span>
              <b>Fecha de la actuación:</b>
              <span t-field="maintenance_request.maintenance_date" class="mx-2"/>
            </span>
          </h5>

          <!-- Verifications -->
          <h5 class="alert-heading text-left mt-5 py-0" colspan="4">
            <span>
              <b>Comprobación y ajuste del sistema de extracción</b>
            </span>
          </h5>
          <div class="d-flex flex-row">
            <div class="col-m-12 p2">
              <p>
                <b>Funcionamiento del controlador digital:</b>
                <span t-field="maintenance_request.sat_digital_ctrl" class="mx-2" />
              </p>
              <p>
                <b>Inspección visual del sistema de extracción:</b>
                <span t-field="maintenance_request.sat_extraction_sys" class="mx-2" />
              </p>
              <p>
                <b>Requerimiento fabricante:</b>
                <span t-field="maintenance_request.requirements_partner" class="mx-2" />
              </p>
              <p>
                <b>Requerimiento cliente:</b>
                <span t-field="maintenance_request.requirements_client" class="mx-2" />
              </p>
            </div>
          </div>

          <!-- Measurements -->
          <h5 class="alert-heading text-left mt-5 py-0">
            <span>
              <b>Medición volumen de extracción</b>
            </span>
          </h5>
          <div class="mt-2">
            <p>
              <b>Longitud guillotina (mm):</b>
              <span t-field="maintenance_request.work_length" class="mx-2" />
            </p>
            <p>
              <b>Atura de trabajo (mm):</b>
              <span t-field="maintenance_request.work_height" class="mx-2" />
            </p>
          </div>
          <h6 class="alert-heading text-left mt-3 py-0">
            <span>
              <b>
                <i>Superficie de medición(m<sup>2</sup>) = Longitud de trabajo(m) x Altura de trabajo(m) </i>
              </b>
            </span>
          </h6>
          <table class="table table-borderless mt-2">
            <thead>
              <tr>
                <th scope="col">
                  <b>Longitud de trabajo (m)</b>
                </th>
                <th scope="col">
                  <b>Altura de trabajo (m)</b>
                </th>
                <th scope="col">
                  <b>Superficie de medición (m<sup>2</sup>)
                  </b>
                </th>
              </tr>
            </thead>
            <tbody class="text-center">
              <!-- <t t-set="length_in_meters" t-value="maintenance_request.convert_to_meters(maintenance_request.work_length)" />
                <t t-set="height_in_meters" t-value="maintenance_request.work_height/1000" /> -->
              <tr>
                <td>
                  <!-- <span t-esc="length_in_meters" class="mx-2" /> -->
                  <span t-field="maintenance_request.work_length_m" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
                <td>
                  <!-- <span t-esc="height_in_meters" class="mx-2" /> -->
                  <span t-field="maintenance_request.work_height_m" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
                <td>
                  <span t-field="maintenance_request.measurement_area" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
              </tr>
            </tbody>
          </table>
          <p style="page-break-after: always;"></p>

          <br/>
          <h6 name="mediciones" class="alert-heading text-left mt-4 py-0">
            <span>
              <b>Velocidades en frontal (m/s)</b>
            </span>
          </h6>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col">Izquierda</th>
                <th scope="col">Centro</th>
                <th scope="col">Derecha</th>
              </tr>
            </thead>
            <tbody class="text-center">
              <tr>
                <th class="align-middle">Arriba</th>
                <td class="align-middle">
                  <span t-field="maintenance_request.frontal_v1" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
                <td class="align-middle">
                  <span t-field="maintenance_request.frontal_v2" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
                <td class="align-middle">
                  <span t-field="maintenance_request.frontal_v3" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
              </tr>
              <tr>
                <th class="align-middle">Centro</th>
                <td class="align-middle">
                  <span t-field="maintenance_request.frontal_v4" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
                <td class="align-middle">
                  <span t-field="maintenance_request.frontal_v5" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
                <td class="align-middle">
                  <span t-field="maintenance_request.frontal_v6" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
              </tr>
              <tr>
                <th class="align-middle">Abajo</th>
                <td class="align-middle">
                  <span t-field="maintenance_request.frontal_v7" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
                <td class="align-middle">
                  <span t-field="maintenance_request.frontal_v8" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
                <td class="align-middle">
                  <span t-field="maintenance_request.frontal_v9" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
              </tr>
              <tr>
                <th colspan="3" class="align-middle" style="text-align:right;">Media</th>
                <td class="align-middle">
                  <span t-field="maintenance_request.frontal_v_media" t-options="{'widget': 'float', 'precision': 2}" class="mx-2" />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </t>
    </template>

  </data>
</odoo>